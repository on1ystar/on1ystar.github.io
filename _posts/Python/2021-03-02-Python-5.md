---
layout: post
title: Python itertoolsë¥¼ ì´ìš©í•œ ìˆœì—´, ì¡°í•©, ì¤‘ë³µ ìˆœì—´, ì¤‘ë³µ ì¡°í•©
date: 2021-03-02 +0900
categories: [Python, Algorithm]
sitemap:
  changefreq: daily
  priority: 1.0
---

---

<br>

ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ë‹¤ ë³´ë©´ ìˆœì—´ì´ë‚˜ ì¡°í•©ì„ ì‚¬ìš©í•´ì•¼ í•  ë•Œê°€ ìì£¼ ìˆë‹¤. ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë³´í†µ ì¬ê·€í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ë°˜ë³µë¬¸ìœ¼ë¡œ êµ¬í˜„í•  ì‹œ ì¢€ ë³µì¡í•œ ì¸ë±ìŠ¤ ê³„ì‚°ì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ pythonì—ëŠ” í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë¶„ë¥˜ë¡œ `itertools`ê°€ ìˆëŠ”ë°, ì—¬ê¸°ì— ìˆœì—´ê³¼ ì¡°í•© í•¨ìˆ˜ê°€ êµ¬í˜„ë˜ì–´ ìˆë‹¤. ì†ë„ë„ ë¹ ë¥´ë¯€ë¡œ ì•Œê³  ìˆê¸°ë§Œ í•œë‹¤ë©´ ì‚¬ìš©í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.

í•„ìëŠ” í•­ìƒ ê¹Œë¨¹ê³  ì°¾ì•„ë³´ê¸° ë•Œë¬¸ì— [ê³µì‹ ë¬¸ì„œ ë‚´ìš©](https://docs.python.org/ko/3/)ê³¼ ê°„ë‹¨í•œ [ë°±ì¤€](https://www.acmicpc.net/) ì˜ˆì œë¥¼ í•¨ê»˜ ì •ë¦¬í•œë‹¤.

<br>

## ğŸ”· ìˆœì—´(Permutation)

### ğŸ”¹ `itertools.permutations(iterable, r=None)`

`iterable`ì—ì„œ ìš”ì†Œì˜ ì—°ì†ëœ ê¸¸ì´ r ìˆœì—´ì„ ë°˜í™˜

rì´ ì§€ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ `None`ì´ë©´, rì˜ ê¸°ë³¸ê°’ì€ `iterable`ì˜ ê¸¸ì´

ì…ë ¥ `iterable`ì´ ì •ë ¬ë˜ì–´ ìˆìœ¼ë©´, ìˆœì—´ íŠœí”Œì´ ì •ë ¬ëœ ìˆœì„œë¡œ ìƒì„±

```python
>>> permutations('ABCD', 2)
AB AC AD BA BC BD CA CB CD DA DB DC
>>> permutations(range(3))
012 021 102 120 201 210
```

### ğŸ”¹ BOJ 15649ë²ˆ - Nê³¼ M (1)

> [https://www.acmicpc.net/problem/15649](https://www.acmicpc.net/problem/15649)

```python
from itertools import permutations

N, M = map(int, input().rstrip().split())
for p in list(map(" ".join, permutations(map(str, range(1, N+1)),M))):
    print(p)
```

<br>

## ğŸ”· ì¡°í•©(combination)

### ğŸ”¹ `itertools.combinations(iterable, r)`

ë‚´ìš©ì€ `permutations`ì™€ ê°™ìŒ

ë‹¨, ìš”ì†ŒëŠ” ê°’ì´ ì•„ë‹ˆë¼ **ìœ„ì¹˜ë¡œ ê³ ìœ ì„±ì„ ë‹¤ë£¬ë‹¤**(ê°’ì´ ê°™ë”ë¼ë„ ìœ„ì¹˜ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ìš”ì†Œë¡œ íŒë‹¨).

```python
>>> combinations('ABCD', 2)
AB AC AD BC BD CD
>>> combinations(range(4), 3)
012 013 023 123
>>> combinations('ABCA', 2)
AB AC AA BC BA CA

```

### ğŸ”¹ BOJ 15650ë²ˆ - Nê³¼ M (2)

> [https://www.acmicpc.net/problem/15650](https://www.acmicpc.net/problem/15650)

```python
from itertools import combinations

N, M = map(int, input().rstrip().split())
for p in list(map(" ".join, combinations(map(str, range(1, N+1)),M))):
    print(p)
```

<br>

## ğŸ”· ì¤‘ë³µìˆœì—´(permutation with repetition)

> [https://ko.wikipedia.org/wiki/ì¤‘ë³µìˆœì—´](https://ko.wikipedia.org/wiki/%EC%A4%91%EB%B3%B5%EC%88%9C%EC%97%B4)

n ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì›ì†Œ ì¤‘ì—ì„œ ì¤‘ë³µì„ í—ˆìš©í•˜ì—¬ rê°œë¥¼ ë½‘ì•„ì„œ í•œ ì¤„ë¡œ ë‚˜ì—´í•˜ëŠ” ê²½ìš°ì˜ ìˆ˜

r ê°œë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš°, ìµœì´ˆì— n ê°œë¥¼ ì„ íƒí•  ìˆ˜ ìˆê³  ì´í›„ì—ë„ ê³„ì† n ê°œë¥¼ ì„ íƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ ìˆœì—´ì˜ ê°œìˆ˜ëŠ” _n^r_

### ğŸ”¹ `itertools.product(*iterables, repeat=1)`

ê³±(product) íŠœí”Œì´ ì •ë ¬ëœ ìˆœì„œë¡œ ë°˜í™˜

ì›ë˜ëŠ” ë°ì¹´ë¥´íŠ¸ ê³±(Cartesian Product)ì„ ìœ„í•œ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ(ì´ë¦„ë„ product) `repeat` í‚¤ì›Œë“œ ì¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µ íšŸìˆ˜ë¥¼ ì§€ì •í•˜ë©´ `iterable` ìì‹ ê³¼ì˜ ê³±ì„ í•  ìˆ˜ ìˆë‹¤.

```python
>>> product('ABCD', 'xy')
Ax Ay Bx By Cx Cy Dx Dy
>>> product(range(2), repeat=3)  # product(range(2), range(2), range(2))ì™€ ë™ì¼
000 001 010 011 100 101 110 111
```

### ğŸ”¹ BOJ 15651ë²ˆ - Nê³¼ M (3)

> [https://www.acmicpc.net/problem/15651](https://www.acmicpc.net/problem/15651)

```python
from itertools import product

N, M = map(int, input().rstrip().split())
for p in list(map(" ".join, product(map(str, range(1, N+1)),M))):
    print(p)
```

ì°¸ê³ ë¡œ ì•„ë˜ëŠ” ì¬ê·€ë¡œ êµ¬í˜„í•œ ì½”ë“œ

```python
from sys import stdout

def main(permutation=[]):
    if len(permutation) == M:
        stdout.write(" ".join(permutation) + "\n")
        permutation.pop()
        return permutation
    for i in range(N):
        permutation.append(num_li[i])
        permutation = main(permutation)
    if permutation:
        permutation.pop()
        return permutation


if __name__ == "__main__":
    N, M = map(int, input().rstrip().split())
    num_li = []
    num_li = list(map(str, range(1, N+1)))
    main()
```

<br>

## ğŸ”· ì¤‘ë³µì¡°í•©(combination with repetition)

> [https://ko.wikipedia.org/wiki/ì¡°í•©](https://ko.wikipedia.org/wiki/%EC%A1%B0%ED%95%A9)

ì„œë¡œ ë‹¤ë¥¸ *n*ê°œì˜ ì›ì†Œì—ì„œ ì¤‘ë³µì„ í—ˆë½í•˜ì—¬ *k*ê°œë¥¼ ë½‘ëŠ” ê²½ìš°ì˜ ìˆ˜

ê³µì‹ì€ ìœ„ ë§í¬ì—ì„œ ì°¸ê³ 

### ğŸ”¹ `itertools.combinations_with_replacement(iterable, r)`

`combinations`ì™€ ê°™ì§€ë§Œ, ê°œë³„ ìš”ì†Œë¥¼ ë‘ ë²ˆ ì´ìƒ ë°˜ë³µí•  ìˆ˜ ìˆìŒ

```python
>>> combinations_with_replacement('ABC', 2)
AA AB AC BB BC CC
>>> combinations_with_replacement('ABA', 2)
AA AB AA BB BA AA
```

### ğŸ”¹ BOJ 15652ë²ˆ - Nê³¼ M (4)

> [https://www.acmicpc.net/problem/15652](https://www.acmicpc.net/problem/15652)

```python
from sys import stdout
from itertools import combinations_with_replacement

N, M = map(int, input().rstrip().split())
for c in map(" ".join, combinations_with_replacement(map(str, range(1,N+1)), M)):
    stdout.write(c + "\n")
```

ì•„ë˜ëŠ” ì¬ê·€ë¡œ êµ¬í˜„í•œ ì½”ë“œ

```python
def main(combi=[], start_i=0):
    if len(combi) == M:
        stdout.write(" ".join(combi) + "\n")
        combi.pop()
        return combi
    for i in range(start_i, N):
        combi.append(num_li[i])
        combi = main(combi, i)
    if combi:
        combi.pop()
        return combi


if __name__ == "__main__":
    N, M = map(int, input().rstrip().split())
    num_li = []
    num_li = list(map(str, range(1, N+1)))
    main()
```

<br>

### REFERENCE

[https://docs.python.org/ko/3/library/itertools.html#itertool-functions](https://docs.python.org/ko/3/library/itertools.html#itertool-functions)
